# 2023-2-DSC4007-2-Peakers

## 복지재현데이터 생성기 개발

- 복지분야 민감정보 및 개인정보보호의 원활한 연구 및 교육 분야 활용을 위한 재현 데이터 생성기 개발
- 데이터 3법 이후 데이터의 적극 활용이 매우 중요해짐
- 데이터 활용을 위해 개인정보보호 과정이 필수
- 현재 마스킹 기법과 차등적 보호기법이 널리 사용되나 데이터 효용의 손실이 발생하는 어려움
- 이에 재현 데이터 생성 기법을 활용  


> **DCGAN**
> 
- 이를 보완하기 위하여 이미지 데이터에 대해 DCGAN 모형이 제안됨(Radford 등, 2015)
- DCGAN 모형은 완전 연결 계층을 합성곱 신경망(CNN)의 계층으로 대체하고 판별자에 strided 합성곱 계층 적용과 계층의 활성화 함수에 LeakyReLU 함수를 적용하여 GAN 모형의 학습을 안정화 시킨 모형

> **TableGAN**
> 
- 테이블 형식의 데이터에 대하여 DCGAN 모형을 적용하여 재현 데이터를 생성하는 모형(Park 등, 2018)
- 기존의 DCGAN 모형의 구조를 적용하기 위하여 TableGAN 모형은 테이블의 각각의 행을  정방 행렬의 형태로 변환하여 2차원 이미지 형태의 자료를 고려
- 테이블의 열의 수가 정방 행렬을 구성하기  어려운 경우추가적인 패딩을 통하여 차원을 일치시키는 전처리가 수행
- 원 데이터의 변수들의 관계를 유지하며 학습하기 위해 정보 손실 함수와 분류 손실 함수를 도입하여 원 데이터 내의 변수들의 관계와 재현 데이터의 변수들의 관계가 유사하도록 학습을 진행
- 정보 손실 함수는 판별자의 마지막  계층에서 표현된 벡터를 특징 벡터로 고려하여 원 데이터의 특징 벡터와 생성된 재현 데이터의 특징 벡터의 평균과 표준편차의 차이로 정의
- 분류 손실 함수는 분류자를 도입하여 원 데이터의 레이블 예측을 학습하고 원 데이터로부터 학습된 분류자로 생성된 데이터에서의 예측 오차를 손실  함수로 정의

⇒ 기존 DCGAN 모형의 구조를 적용하기 위해 각 변수를 [-1,1]의 범위를 갖도록 변화하게 되면서 기울기 소실 문제가 발생

⇒ 또한 혼합형 데이터에 대하여 범주형 변수의 불균형이 존재할 경우 소수의 번주가 누락될 가능성이 높음

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/d286e979-6d47-46d9-88af-47555c3f0632/84aabe29-92e8-4b82-b87e-f184b4b722b9/Untitled.png)

> **CTGAN**
> 
- 위의 단점을 해결하기 위해 CTGAN 모형이 제안(Xu 등, 2019)
- 변수들의 범위 전처리를 통한 기울기 소실 문제의 해결을 위해 정규 혼합 분포 추정에 기반한 최빈값 기준 정규화를 제안
- 범주형 변수의 성공적인 생성을 위해 조건부 벡터와 조건부 벡터 기반 표본  추출에 따르는 학습 절차 제안

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/d286e979-6d47-46d9-88af-47555c3f0632/84aabe29-92e8-4b82-b87e-f184b4b722b9/Untitled.png)

> **CTAB-GAN**
> 
- TableGAN 모형과 CTGAN 모형의 구조를 결합한 형태를 갖는다(Zhao 등, 2021)
- 기본적으로 CTGAN 모형의 구조를 모두 적용하여 최빈값 기준 정규화와 조건부 벡터 및 조건부 벡터 기반 표본 추출에 따른 학습을 적용
- CTGAN 모형의 구조를 기반으로 손실함수 부분만 TableGAN 모형에서 고려되었던 정보 손실 함수 및 분류 손실 함수를 추가적으로 반영한 모형

> **RDP-CGAN**
> 

⇒ 단순히 재현 데이터를 생성하여 공개하는 것은 여러 공격들(연결공격, 추론공격 등)에 의해 여전히 프라이버시 유출 위험이 존재

⇒ 민감한 정보의 유출을 방지하기 위해, 재현 데이터 생성 모델로 주목받고 있는 GAN에 최신 프라이버시 보호 기술인 차분 프라이버시를 적용하여 프라이버시가 보존되는 재현 데이터 생성 알고리즘을 제안

⇒ 생성 모델은 레이블이 있는 데이터의 효율적인 학습을 위해 CGAN을 사용하였고, 데이터의 유용성 측면을 고려하여 기존 차분 프라이버시보다 프라이버시가 완화된 Rényi 차분 프라이버시를 적용

> **CTAB-GAN+**
> 

⇒ Zhao 등, 2022 

⇒ 전처리 전략의 다양화, 학습의 안정화, 차분 프라이버시 (differential privacy, Dwrok 등, 2006)의 도입 등 몇 가지 부분에 대해서 CTAB-GAN을 개선한 생성 기법

## 재현 데이터 생성 성능 비교 측도

- 특정 레코드의 식별 가능성을 나타내는 노출 위험 측도와 원 데이터와 비교하여 생성된 재현 데이터의 활용성 또는 정보 손실을 측정하는 유용성 지료로 구분
- 노출 위험의 측도로는 k-익명성 및 l-다양성 등의 측도가 정의되어 있으며 보통 원 데이터에 비식별 처리 후 제공되는 가명 데이터의 노출 위험을 측정하는데 주로 활용
- 연속형 데이터의 경우 원 데이터와 같은 값을 갖는 레코드가 나타날 확률이 이론적으로 0이지만 번주형 변수만 포함된 데이터에 대해서는 동일한 범주로 구성된 원 데이터와 동일한 레코드가 나타나게 되므로 Taub와 Elliot(2019)에서는 재현 데이터에서도 노출 위험을 측정해야 하며 목표 대상 특성 식별 확률(TCAP)을 통해 재현 데이터의 노출 위험을 측정할 것을 제안

> 머신러닝 모형으로 학습하여 모형의 성능인 유효성을 비교 분석
> 

> KS test를 통해 서로 다른 두 개의 데이터의 유사성을 통계 값으로 산출
> 

> 변수별 통계적 유사성 검증하여 변수간 차이 비교 분석
> 

> 시각적으로 표현하여 직관적으로 비교 분석
> 

> TCAP을 이용하여 노출 위험 측정, 유용성 지표로는 Woo 등(2009)에서 제안한 성향 점수 기반의 pMSE와 ROE를 고려
> 

**TCAP**

재현데이터는 익명데이터로 분류되어 개인정보 관련 규제로부터 자유롭다고 하나 참고한 논문에서 범주형 변수만 포함된 데이터에 대해서는 동일한 범주로 구성된 원 데이터와 동일한 레코드가 나타나게 되므로 재현 데이터에서도 노출 위험을 측정해야한다는 의견이 제안. TCAP은 외부 공격자가 재현 데이터와 원 데이터의 식별자 변수 정보를 통하여 원 데이터의 목표 변수의 정보를 얻는 노출 위험을 측정하는 측도. 0부터 1의 값을 가지며 높은 값을 가질 수록 노출 위험도가 낮다는 의미. 예를 들어 아래의 표처럼 저소득층여부를 목표변수로 가정하고 값을 구한 것보다 저소득층여부와 총소득 변수를 목표변수로 설정할 경우 더 큰 값을 도출. 여러 경우의 수를 고려한 후 평균으로 TCAP 값을 도출할 예정.

**pMSE**

pMSE는 재현데이터의 효용성을 측정하는 측도로 원 데이터와 재현데이터의 특정 통계량의 유사도를 계산하는 것이 아닌 전체적인 관점에서 유사성을 판단하기 위해 원 데이터와 재현 데이터의 성향 점수를 기준으로 유용성을 측정.

수식은 원 데이터와 재현데이터의 레코드가 같다는 가정 하에 아래와 같음.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/d286e979-6d47-46d9-88af-47555c3f0632/a58cddda-5092-4666-a49e-666edc0fc6ef/Untitled.png)

먼저 원 데이터와 재현 데이터를 하나로 통합한 뒤 원 데이터와 재현데이터를 0과 1로 구분하는 변수를 추가. 다음으로 통합된 데이터의 변수를 설명 변수로 고려하고 원 데이터와 재현데이터를 구분하는 변수를 반응 변수로 하여 적절한 이진분류 모형을 적용. 그후 각각의 레코드마다 재현데이터라고 판단할 확률을  pˆi 로 설정하고 pMSE를 계산. 재현데이터가 원데이터와 비슷하다면 확률이 0.5와 가깝게 도출되므로 pMSE가 낮은 값을 가질 수록 데이터 효용성이 좋다고 할 수 있음.

### 1) 모형 유효성 검증

⇒ 선형회귀 모형, 랜덤포레스트 회귀모형 구축

⇒ MSE, RMSE 평가 지표로 모형의 유효성 비교 분석

⇒ 선형회귀에서는 유사한 모형 성능, 랜덤포레스트에서는 재현데이터가 성능이 더 높게 측정

### 2) 통계적  유사성 검정

⇒ KS test, 두 집단의 동질성을 검정하는 방법인 카이제곱 검정 비교 분석

⇒ 두 개 평가지표 모두 1에 가까운 것으로 나타났으며, 이는 원본 데이터와 재현데이터가 통계적으로 매우 유사

⇒ KS test에서 Column Shapes 품질 평가지표는 원본 데이터와 재현데이터의 누적 그래프가 서로 겹치는 비율

⇒ Column Pair Trends 지표는 두 개의 데이터 추세선이 유사한 것을 나타나는 지표

### 3) 변수별 유사성 검증

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/d286e979-6d47-46d9-88af-47555c3f0632/888a680c-b0be-4e6d-b7c4-a3ea8ed7b07a/Untitled.png)

⇒ 변수별로 유사성 검증을 수행하면 대다수의 변수들이 편차 없이 1에 가까운 값  도출

⇒ 반복적으로 재현데이터를 생성하여 검증하여도 일부 차이는 존재하나 높은 유사도 값으로 분석

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/d286e979-6d47-46d9-88af-47555c3f0632/55b0ad89-8818-4f08-837e-f84f254366c9/Untitled.png)

### 4) 시각적 비교분석

⇒ 누적함수의 경우 매우 유사한 것으로 나타났으며, 범주형 변수의 경우 일부 카테고리에서 데이터 차이가 존재하는 것으로 나타남

⇒ 연속형 변수인 대기시간의 경우 원본과 재현데이터의 분포 형태가 유사

# 사용 데이터

[](https://www.koweps.re.kr:442/main.do)
